@import 'nib'

rect(width, height)
  width width
  height height
  margin-left (-0.5 * width)
  margin-top (-0.5 * height)

rect-container-color(a, b, c)
  .rect:nth-child(1)
    background-color a

  .rect:nth-child(2)
    background-color b

  .rect:nth-child(3)
    background-color c

rect-container-delay(delay = 0)
  .rect:nth-child(1)
    animation-delay delay

  .rect:nth-child(2)
    animation-delay (0.2s + delay)

  .rect:nth-child(3)
    animation-delay (0.4s + delay)


@keyframes expand
  0%
    transform scale(0)

  100%
    transform scale(1)


html
body
  height 100%

body
  margin 0
  background-color #eee

.rect
  // http://easings.net/#easeOutCirc
  animation expand 1s cubic-bezier(0.075, 0.82, 0.165, 1) forwards
  transform scale(0)

.palette
  display flex
  align-items center
  justify-content space-around

  width 50%
  height 100%

  transform translateX(50%)

  .rect-container
    width 64px
    height 64px
    margin-left @width
    margin-top @height

    .rect:nth-child(1)
      rect(64px, 64px)

    .rect:nth-child(2)
      rect(36px, 36px)

    .rect:nth-child(3)
      rect(18px, 18px)

  .rect
    position absolute
    border-radius 25%

  .rect-container:nth-child(1)
    rect-container-color(#665, #dd6, #e64)
    rect-container-delay()

  .rect-container:nth-child(2)
    rect-container-color(#9bb, #665, #dd6)
    rect-container-delay(0.1s)

  .rect-container:nth-child(3)
    rect-container-color(#e64, #dd6, #665)
    rect-container-delay(0.2s)
